<div class="container">
    <div class="row">
        <div class="col-md-3"></div>
        <div class="col-md-3"><b>Total Member:</b> {{totalCount}} </div>
        <div class="col-md-3"><b>Total Member Attendance: </b>{{totalCountPresent}}</div>
    </div>
    <div class="row">
        <div class="col-md-10">

            <div style="display: block;">
                <canvas baseChart [data]="pieChartData" [labels]="pieChartLabels" [chartType]="pieChartType"
                    [options]="pieChartOptions" [plugins]="pieChartPlugins" [legend]="pieChartLegend"   [colors]="pieChartColors"
                    >
                </canvas>
            </div>
        </div>
    </div>
  
  <header style="background-color: #ED6009; color: #450000">
        <div class="meeting-heading w-full h-full">
            <div class="container flex justify-center space-x-8 items-center xl:block xl:relative mx-auto text-center text-base my-4 font-bold">
                <div class="brand-image relative xl:absolute h-full flex flex-row items-center">
                    <img src="./assets/img/logo1.png" alt="BJP logo" class="h-24 xl:h-40 xl:mt-16 bg-white rounded-full p-1.5">
                </div>

                <h1 class="brand-name text-3xl lg:text-5xl 2xl:text-6xl pt-8 pb-4 font-semibold flex flex-col xl:flex-row items-center xl:justify-center" >
                    <!-- National Executive Meeting Bharatiya Janata Party -->
                    <span class="xl:mr-2">
                        National Executive Meeting
                    </span>
                    <span class="">
                        Bharatiya Janata Party
                    </span>
                </h1>

            </div>
        </div>
        <div class="meeting-date w-full" style="background-color: #450000;">
            <div class="container mx-auto text-center text-4xl 2xl:text-4.5xl  py-2 text-white font-normal">
                7th & 8th November 2021
            </div>
        </div>
    </header>

    <main class="relative flex-grow py-12 xl:py-20">

        <div class="lg:max-w-screen-lg 2xl:max-w-screen-2xl mx-auto px-4">

            <div class="national-stat-total py-6">
                <div class="relative rounded-2xl">
                  <div class="absolute -top-12 sm:-top-14 h-full min-w-min -z-20 rounded-t-2xl pr-36 p-4 pt-3" style="background-color: #F49420;">
                    <h1 class="text-3xl sm:text-4xl">National</h1>
                  </div>
                  <div class="relative mt-10 bg-white border-2 border-grey-500 z-10 rounded-2xl grid grid-cols-3 divide-x-2 divide-grey-500 py-2">
                    <div class="mx-4 p-4 pl-0 mr-0 pr-0 md:pl-4">
                      <div class="count font-semibold" style="color: #F49420;">
                          <h1 class="text-4xl">{{nationalTotalCount}}</h1>
                      </div>
                      <div class="count-title font-normal">
                          <h3 class="text-2xl">Expected</h3>
                      </div>
                    </div>
                    <div class="mx-4 p-4 pl-4 md:pl-8">
                      <div class="count font-semibold" style="color: #F49420;">
                          <h1 class="text-4xl">{{nationalTotalPresentCount}}</h1>
                      </div>
                      <div class="count-title font-normal">
                          <h3 class="text-2xl">Present</h3>
                      </div>
                    </div>
                    <div class="mx-4 p-4 pl-4 md:pl-8">
                      <div class="count font-semibold" style="color: #F49420;">
                          <h1 class="text-4xl">{{nationalTotalCount - nationalTotalPresentCount}}</h1>
                      </div>
                      <div class="count-title font-normal">
                          <h3 class="text-2xl">Absent</h3>
                      </div>
                    </div>
                  </div>
                </div>
            </div>
            <div class="state-stat-total py-6">
                <div class="relative rounded-2xl">
                  <div class="absolute -top-12 sm:-top-14 h-full min-w-min -z-20 rounded-t-2xl pr-36 p-4 pt-3" style="background-color: #F49420;">
                    <h1 class="text-3xl sm:text-4xl">State</h1>
                  </div>
                  <div class="relative mt-10 bg-white border-2 border-grey-500 z-10 rounded-2xl grid grid-cols-4 divide-x-2 divide-grey-500 py-2">
                    <div class="mx-4 p-4 pl-0 mr-0 pr-0 md:pl-4">
                        <div class="count font-semibold" style="color: #F49420;">
                            <h1 class="text-4xl">{{attendanceInquriy?.totalList?.length -1}}</h1>
                        </div>
                        <div class="count-title font-normal">
                            <h3 class="text-2xl">States</h3>
                        </div>
                      </div>
                    <div class="mx-4 p-4 pl-4 md:pl-8">
                      <div class="count font-semibold" style="color: #F49420;">
                          <h1 class="text-4xl">{{stateTotalCount}}</h1>
                      </div>
                      <div class="count-title font-normal">
                          <h3 class="text-2xl">Expected</h3>
                      </div>
                    </div>
                    <div class="mx-4 p-4 pl-4 md:pl-8">
                      <div class="count font-semibold" style="color: #F49420;">
                          <h1 class="text-4xl">{{stateTotalPresentCount}}</h1>
                      </div>
                      <div class="count-title font-normal">
                          <h3 class="text-2xl">Present</h3>
                      </div>
                    </div>
                    <div class="mx-4 p-4 pl-4 md:pl-8">
                        <div class="count font-semibold" style="color: #F49420;">
                            <h1 class="text-4xl">{{stateTotalCount-stateTotalPresentCount}}</h1>
                        </div>
                        <div class="count-title font-normal">
                            <h3 class="text-2xl">Absent</h3>
                        </div>
                      </div>
                  </div>
                </div>
            </div>

            <div class="total-stat py-6">
                <div class="bg-white border-2 border-grey-500 z-10 rounded-t-2xl grid grid-cols-4 divide-x-2 divide-grey-500 py-2">
                    <div class="mx-4 p-4 pl-0 mr-0 pr-0 md:pl-4">
                        <div class="count-title font-normal">
                            <h3 class="text-2xl">Total State</h3>
                        </div>
                        <div class="count font-semibold" style="color: #F49420;">
                            <h1 class="text-4xl">37</h1>
                        </div>
                    </div>
                    <div class="mx-4 p-4 pl-4 md:pl-8">
                        <div class="count-title font-normal">
                            <h3 class="text-2xl">Expected</h3>
                        </div>
                      <div class="count font-semibold" style="color: #F49420;">
                          <h1 class="text-4xl">150</h1>
                      </div>
                    </div>
                    <div class="mx-4 p-4 pl-4 md:pl-8">
                        <div class="count-title font-normal">
                            <h3 class="text-2xl">Present</h3>
                        </div>
                      <div class="count font-semibold" style="color: #F49420;">
                          <h1 class="text-4xl">125</h1>
                      </div>
                    </div>
                    <div class="mx-4 p-4 pl-4 md:pl-8">
                        <div class="count-title font-normal">
                            <h3 class="text-2xl">Absent</h3>
                        </div>
                        <div class="count font-semibold" style="color: #F49420;">
                            <h1 class="text-4xl">25</h1>
                        </div>
                    </div>
                </div>

                <!-- Accordian Starts - State Wise Stat -->
                <div *ngFor="let item of dataList"  class="state-wise-stat bg-white border-2 border-grey-500 rounded-b-2xl overflow-hidden">
                    <ul class="stat-accordian bg-gray-50">
                        <li class="state">
                            <div class="state-stat grid grid-cols-4 divide-x-2 divide-gray-300 py-2 text-2xl">
                                <div class="state-name mx-4 pl-0 mr-0 pr-0 md:pl-4">{{item.city}}</div>
                                <div class="state-expected mx-4 pl-4 md:pl-8 flex items-center">05</div>
                                <div class="state-present mx-4 pl-4 md:pl-8 flex items-center">03</div>
                                <div class="state-absent mx-4 mr-0 px-4 md:px-8 relative flex items-center justify-between">
                                    02
                                    <div class="state-detail-expand-trigger cursor-pointer hover:text-yellow-600 transition-all duration-100 transform rotate-0">
                                        <svg class="h-6 md:h-8 svg-inline--fa fa-chevron-down fa-w-14 fa-7x" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-down" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z" class=""></path></svg>
                                    </div>
                                </div>
                            </div>
                            <table class="state-detail hidden bg-white w-full text-base md:text-xl">
                                <tbody>
                                    <tr class="border-1 border-gray-300 w-full">
                                        <td class="profile-photo border-t-2 border-b-2 border-gray-100 py-2 w-2/12">
                                            <div class="w-full flex justify-center">
                                                <div class="id-profile-image relative h-14 w-14 flex flex-row items-center rounded-full overflow-hidden shadow-md">
                                                    <img src="./assets/img/sample.jpeg" alt="Profile Photo" class="h-full w-full object-cover">
                                                </div>
                                            </div>
                                        </td>
                                        <td class="name border-t-2 border-b-2 border-gray-100 py-2 w-3/12 font-semibold">
                                            Shri. Nitin Gadkari
                                        </td>
                                        <td class="designation border-t-2 border-b-2 border-gray-100 py-2 w-5/12">
                                            Minister of Road Transport and Highways
                                        </td>
                                        <td class="attendance-status border-t-2 border-b-2 border-gray-100 py-2 w-2/12 h-full text-center">
                                            <div class="w-full flex justify-center">
                                                <div class="badge px-3 md:px-10 py-1 bg-green-500 rounded-full font-semibold text-white max-w-min">Present</div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="border-1 border-gray-300 w-full">
                                        <td class="profile-photo border-t-2 border-b-2 border-gray-100 py-2 w-2/12">
                                            <div class="w-full flex justify-center">
                                                <div class="id-profile-image relative h-14 w-14 flex flex-row items-center rounded-full overflow-hidden shadow-md">
                                                    <img src="./assets/img/sample.jpeg" alt="Profile Photo" class="h-full w-full object-cover">
                                                </div>
                                            </div>
                                        </td>
                                        <td class="name border-t-2 border-b-2 border-gray-100 py-2 w-3/12 font-semibold">
                                            Shri. Nitin Gadkari
                                        </td>
                                        <td class="designation border-t-2 border-b-2 border-gray-100 py-2 w-5/12">
                                            Minister of Road Transport and Highways
                                        </td>
                                        <td class="attendance-status border-t-2 border-b-2 border-gray-100 py-2 w-2/12 h-full text-center">
                                            <div class="w-full flex justify-center">
                                                <div class="badge px-3 md:px-10 py-1 bg-red-500 rounded-full font-semibold text-white max-w-min">Absent</div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="border-1 border-gray-300 w-full">
                                        <td class="profile-photo border-t-2 border-b-2 border-gray-100 py-2 w-2/12">
                                            <div class="w-full flex justify-center">
                                                <div class="id-profile-image relative h-14 w-14 flex flex-row items-center rounded-full overflow-hidden shadow-md">
                                                    <img src="./assets/img/sample.jpeg" alt="Profile Photo" class="h-full w-full object-cover">
                                                </div>
                                            </div>
                                        </td>
                                        <td class="name border-t-2 border-b-2 border-gray-100 py-2 w-3/12 font-semibold">
                                            Shri. Nitin Gadkari
                                        </td>
                                        <td class="designation border-t-2 border-b-2 border-gray-100 py-2 w-5/12">
                                            Minister of Road Transport and Highways
                                        </td>
                                        <td class="attendance-status border-t-2 border-b-2 border-gray-100 py-2 w-2/12 h-full text-center">
                                            <div class="w-full flex justify-center">
                                                <div class="badge px-3 md:px-10 py-1 bg-green-500 rounded-full font-semibold text-white max-w-min">Present</div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </li>
                        <li class="state">
                            <div class="state-stat grid grid-cols-4 divide-x-2 divide-gray-300 py-2 text-2xl">
                                <div class="state-name mx-4 pl-0 mr-0 pr-0 md:pl-4">Maharashtra</div>
                                <div class="state-expected mx-4 pl-4 md:pl-8 flex items-center">05</div>
                                <div class="state-present mx-4 pl-4 md:pl-8 flex items-center">03</div>
                                <div class="state-absent mx-4 mr-0 px-4 md:px-8 relative flex items-center justify-between">
                                    02
                                    <div class="state-detail-expand-trigger cursor-pointer hover:text-yellow-600 transition-all duration-100 transform rotate-0">
                                        <svg class="h-6 md:h-8 svg-inline--fa fa-chevron-down fa-w-14 fa-7x" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-down" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z" class=""></path></svg>
                                    </div>
                                </div>
                            </div>
                            <table class="state-detail hidden bg-white w-full text-base md:text-xl">
                                <tbody>
                                    <tr class="border-1 border-gray-300 w-full">
                                        <td class="profile-photo border-t-2 border-b-2 border-gray-100 py-2 w-2/12">
                                            <div class="w-full flex justify-center">
                                                <div class="id-profile-image relative h-14 w-14 flex flex-row items-center rounded-full overflow-hidden shadow-md">
                                                    <img src="./assets/img/sample.jpeg" alt="Profile Photo" class="h-full w-full object-cover">
                                                </div>
                                            </div>
                                        </td>
                                        <td class="name border-t-2 border-b-2 border-gray-100 py-2 w-3/12 font-semibold">
                                            Shri. Nitin Gadkari
                                        </td>
                                        <td class="designation border-t-2 border-b-2 border-gray-100 py-2 w-5/12">
                                            Minister of Road Transport and Highways
                                        </td>
                                        <td class="attendance-status border-t-2 border-b-2 border-gray-100 py-2 w-2/12 h-full text-center">
                                            <div class="w-full flex justify-center">
                                                <div class="badge px-3 md:px-10 py-1 bg-green-500 rounded-full font-semibold text-white max-w-min">Present</div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="border-1 border-gray-300 w-full">
                                        <td class="profile-photo border-t-2 border-b-2 border-gray-100 py-2 w-2/12">
                                            <div class="w-full flex justify-center">
                                                <div class="id-profile-image relative h-14 w-14 flex flex-row items-center rounded-full overflow-hidden shadow-md">
                                                    <img src="./assets/img/sample.jpeg" alt="Profile Photo" class="h-full w-full object-cover">
                                                </div>
                                            </div>
                                        </td>
                                        <td class="name border-t-2 border-b-2 border-gray-100 py-2 w-3/12 font-semibold">
                                            Shri. Nitin Gadkari
                                        </td>
                                        <td class="designation border-t-2 border-b-2 border-gray-100 py-2 w-5/12">
                                            Minister of Road Transport and Highways
                                        </td>
                                        <td class="attendance-status border-t-2 border-b-2 border-gray-100 py-2 w-2/12 h-full text-center">
                                            <div class="w-full flex justify-center">
                                                <div class="badge px-3 md:px-10 py-1 bg-red-500 rounded-full font-semibold text-white max-w-min">Absent</div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="border-1 border-gray-300 w-full">
                                        <td class="profile-photo border-t-2 border-b-2 border-gray-100 py-2 w-2/12">
                                            <div class="w-full flex justify-center">
                                                <div class="id-profile-image relative h-14 w-14 flex flex-row items-center rounded-full overflow-hidden shadow-md">
                                                    <img src="./assets/img/sample.jpeg" alt="Profile Photo" class="h-full w-full object-cover">
                                                </div>
                                            </div>
                                        </td>
                                        <td class="name border-t-2 border-b-2 border-gray-100 py-2 w-3/12 font-semibold">
                                            Shri. Nitin Gadkari
                                        </td>
                                        <td class="designation border-t-2 border-b-2 border-gray-100 py-2 w-5/12">
                                            Minister of Road Transport and Highways
                                        </td>
                                        <td class="attendance-status border-t-2 border-b-2 border-gray-100 py-2 w-2/12 h-full text-center">
                                            <div class="w-full flex justify-center">
                                                <div class="badge px-3 md:px-10 py-1 bg-green-500 rounded-full font-semibold text-white max-w-min">Present</div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </li>
                        <li class="state">
                            <div class="state-stat grid grid-cols-4 divide-x-2 divide-gray-300 py-2 text-2xl">
                                <div class="state-name mx-4 pl-0 mr-0 pr-0 md:pl-4">Arunachal Pradesh</div>
                                <div class="state-expected mx-4 pl-4 md:pl-8 flex items-center">05</div>
                                <div class="state-present mx-4 pl-4 md:pl-8 flex items-center">03</div>
                                <div class="state-absent mx-4 mr-0 px-4 md:px-8 relative flex items-center justify-between">
                                    02
                                    <div class="state-detail-expand-trigger cursor-pointer hover:text-yellow-600 transition-all duration-100 transform rotate-0">
                                        <svg class="h-6 md:h-8 svg-inline--fa fa-chevron-down fa-w-14 fa-7x" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-down" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z" class=""></path></svg>
                                    </div>
                                </div>
                            </div>
                            <table class="state-detail hidden bg-white w-full text-base md:text-xl">
                                <tbody>
                                    <tr class="border-1 border-gray-300 w-full">
                                        <td class="profile-photo border-t-2 border-b-2 border-gray-100 py-2 w-2/12">
                                            <div class="w-full flex justify-center">
                                                <div class="id-profile-image relative h-14 w-14 flex flex-row items-center rounded-full overflow-hidden shadow-md">
                                                    <img src="./assets/img/sample.jpeg" alt="Profile Photo" class="h-full w-full object-cover">
                                                </div>
                                            </div>
                                        </td>
                                        <td class="name border-t-2 border-b-2 border-gray-100 py-2 w-3/12 font-semibold">
                                            Shri. Nitin Gadkari
                                        </td>
                                        <td class="designation border-t-2 border-b-2 border-gray-100 py-2 w-5/12">
                                            Minister of Road Transport and Highways
                                        </td>
                                        <td class="attendance-status border-t-2 border-b-2 border-gray-100 py-2 w-2/12 h-full text-center">
                                            <div class="w-full flex justify-center">
                                                <div class="badge px-3 md:px-10 py-1 bg-green-500 rounded-full font-semibold text-white max-w-min">Present</div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="border-1 border-gray-300 w-full">
                                        <td class="profile-photo border-t-2 border-b-2 border-gray-100 py-2 w-2/12">
                                            <div class="w-full flex justify-center">
                                                <div class="id-profile-image relative h-14 w-14 flex flex-row items-center rounded-full overflow-hidden shadow-md">
                                                    <img src="./assets/img/sample.jpeg" alt="Profile Photo" class="h-full w-full object-cover">
                                                </div>
                                            </div>
                                        </td>
                                        <td class="name border-t-2 border-b-2 border-gray-100 py-2 w-3/12 font-semibold">
                                            Shri. Nitin Gadkari
                                        </td>
                                        <td class="designation border-t-2 border-b-2 border-gray-100 py-2 w-5/12">
                                            Minister of Road Transport and Highways
                                        </td>
                                        <td class="attendance-status border-t-2 border-b-2 border-gray-100 py-2 w-2/12 h-full text-center">
                                            <div class="w-full flex justify-center">
                                                <div class="badge px-3 md:px-10 py-1 bg-red-500 rounded-full font-semibold text-white max-w-min">Absent</div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="border-1 border-gray-300 w-full">
                                        <td class="profile-photo border-t-2 border-b-2 border-gray-100 py-2 w-2/12">
                                            <div class="w-full flex justify-center">
                                                <div class="id-profile-image relative h-14 w-14 flex flex-row items-center rounded-full overflow-hidden shadow-md">
                                                    <img src="./assets/img/sample.jpeg" alt="Profile Photo" class="h-full w-full object-cover">
                                                </div>
                                            </div>
                                        </td>
                                        <td class="name border-t-2 border-b-2 border-gray-100 py-2 w-3/12 font-semibold">
                                            Shri. Nitin Gadkari
                                        </td>
                                        <td class="designation border-t-2 border-b-2 border-gray-100 py-2 w-5/12">
                                            Minister of Road Transport and Highways
                                        </td>
                                        <td class="attendance-status border-t-2 border-b-2 border-gray-100 py-2 w-2/12 h-full text-center">
                                            <div class="w-full flex justify-center">
                                                <div class="badge px-3 md:px-10 py-1 bg-green-500 rounded-full font-semibold text-white max-w-min">Present</div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </li>
                    </ul>
                </div>
                <!-- Accordian Ends - State Wise Stat -->
            </div>

        </div>


    </main>


  
   
</div>
<script>

        // Accordian funtionality
        var stateDetailExpandTriggers = document.querySelectorAll('.state-detail-expand-trigger');
        for (var i = 0; i < stateDetailExpandTriggers.length; i++) {
            stateDetailExpandTriggers[i].addEventListener('click', function() {
                let parent_li = this.parentElement.parentElement.parentElement
                let table = parent_li.children.length ? parent_li.children[1] : false // 2nd child (i.e. on index 1) is table

                if(table){
                    if(table.classList.contains("hidden")){
                        table.classList.remove("hidden")
                        // table.classList.replace("hidden", "block")
                    }else{
                        table.classList.add("hidden")
                        // table.classList.replace("block", "hidden")
                    }
                    if(this.classList.contains('rotate-0')){
                        this.classList.replace('rotate-0', 'rotate-180')
                        parent_li.classList.add("bg-gray-200")
                    }else{
                        this.classList.replace('rotate-180', 'rotate-0')
                        parent_li.classList.remove("bg-gray-200")
                    }
                }else{
                    // alert("No state specific details as of now!")
                }
            });
        }

    </script>

